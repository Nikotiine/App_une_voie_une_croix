<h1 class="has-text-centered title mt-5">
  {{
    isNew
      ? ('route.titleRouteFormEdit' | translate)
      : ('route.titleRouteFormAdd' | translate)
  }}
</h1>

<form [formGroup]="form">
  <div class="form-register">
    <div class="input-label">
      <label for="site" class="label">
        <span class="has-text-info"
          >{{ 'common.climbingZone' | translate }} :
        </span>
      </label>
      <p-dropdown
        [options]="sites"
        optionLabel="name"
        placeholder="{{ 'route.chooseSite' | translate }}"
        [filter]="true"
        filterBy="name"
        inputId="site"
        id="site"
        formControlName="site"
        (onChange)="onChangeSite($event.value)"
        optionValue="id"></p-dropdown>
    </div>

    <ng-container *ngIf="showForm">
      <div class="input-label">
        <label for="sector" class="label">
          <span class="has-text-info">
            <i class="{{ ICON.SECTOR }} mr-1"></i
            >{{ 'common.sector' | translate }} :
          </span>
        </label>
        <p-dropdown
          [options]="secteurs"
          class="mt-3"
          optionLabel="name"
          placeholder="{{ 'route.chooseSector' | translate }}"
          [filter]="true"
          filterBy="name"
          id="sector"
          inputId="sector"
          formControlName="sector"
          optionValue="id"></p-dropdown>
      </div>
      <div class="input-label">
        <label for="name" class="label">
          <span class="has-text-info">
            <i class="{{ ICON.ROUTE }} mr-1"></i
            >{{ 'route.name' | translate }} :
          </span>
        </label>
        <span class="p-input-icon-left">
          <i class="pi pi-user"></i>
          <input type="text" pInputText id="name" formControlName="name" />
        </span>
      </div>
      <div class="wrapper-input">
        <div class="input-label">
          <label for="exposition" class="label">
            <span class="has-text-info">
              <i class="{{ ICON.EXPOSITION }} mr-1"></i
              >{{ 'common.exposition' | translate }} :
            </span>
          </label>
          <p-dropdown
            [options]="expositions"
            optionLabel="label"
            inputId="exposition"
            id="exposition"
            placeholder="-- {{ 'common.exposition' | translate }} --"
            formControlName="exposition"
            optionValue="id"></p-dropdown>
        </div>
        <div class="input-label">
          <label for="routeProfile" class="label">
            <span class="has-text-info">
              <i class="{{ ICON.ROUTE_PROFILE }} mr-1"></i
              >{{ 'common.routeProfile' | translate }} :
            </span>
          </label>
          <p-dropdown
            [options]="routeProfiles"
            optionLabel="label"
            inputId="routeProfile"
            id="routeProfile"
            placeholder="-- {{ 'common.routeProfile' | translate }} --"
            formControlName="routeProfile"
            optionValue="id"></p-dropdown>
        </div>
      </div>
      <div class="wrapper-input">
        <div class="input-label">
          <label for="level" class="label">
            <span class="has-text-info">
              <i class="{{ ICON.LEVEL }} mr-1"></i>
              {{ 'route.level' | translate }} :
            </span>
          </label>
          <p-dropdown
            optionLabel="label"
            [options]="levels"
            optionValue="id"
            id="level"
            placeholder="-- {{ 'route.level' | translate }} --"
            formControlName="level"
            inputId="level"></p-dropdown>
        </div>
        <div class="input-label">
          <label for="equipment" class="label">
            <span class="has-text-info">
              <i class="{{ ICON.EQUIPMENT }} mr-1"></i>
              {{ 'common.equipment' | translate }} :
            </span>
          </label>
          <p-dropdown
            optionLabel="label"
            [options]="equipments"
            optionValue="id"
            id="equipment"
            formControlName="equipment"
            placeholder="-- {{ 'common.equipment' | translate }} --"
            inputId="equipment"></p-dropdown>
        </div>
        <div class="input-label">
          <label for="engagement" class="label">
            <span class="has-text-info">
              <i class="{{ ICON.ENGAGEMENT }} mr-1"></i
              >{{ 'common.engagement' | translate }} :
            </span>
          </label>
          <p-dropdown
            optionLabel="label"
            [options]="engagements"
            optionValue="id"
            formControlName="engagement"
            placeholder="-- {{ 'common.engagement' | translate }} --"
            id="engagement"></p-dropdown>
        </div>
        <div class="input-label">
          <label for="effort" class="label">
            <span class="has-text-info">
              <i class="{{ ICON.EFFORT_TYPE }} mr-1"></i>
              {{ 'route.effortType' | translate }} :
            </span>
          </label>
          <p-dropdown
            optionLabel="label"
            [options]="effortTypes"
            optionValue="label"
            formControlName="effortType"
            placeholder="-- {{ 'route.effortType' | translate }} --"
            id="effort"></p-dropdown>
        </div>
      </div>

      <div class="wrapper-input">
        <div class="input-label">
          <label for="height" class="label">
            <span class="has-text-info">
              <i class="{{ ICON.ROUTE_HEIGHT }} mr-1"></i
              >{{ 'route.routeHeight' | translate }} :
            </span>
          </label>
          <p-inputNumber
            id="height"
            [showButtons]="true"
            suffix=" mÃ¨tres"
            formControlName="height"></p-inputNumber>
        </div>
        <div class="input-label">
          <label for="quickdraw" class="label">
            <span class="has-text-info">
              <i class="{{ ICON.QUICK_DRAW }} mr-1"></i
              >{{ 'route.quickdraw' | translate }} :
            </span>
          </label>
          <p-inputNumber
            id="quickdraw"
            [showButtons]="true"
            formControlName="quickdraw"></p-inputNumber>
        </div>
      </div>
      <div class="input-label">
        <label for="commentary" class="label">
          <span class="has-text-info">{{
            'common.commentary' | translate
          }}</span>
        </label>
        <textarea
          rows="3"
          id="commentary"
          cols="30"
          pInputTextarea
          formControlName="commentary"></textarea>
      </div>
      <div class="is-flex mt-4 width-20 is-justify-content-space-between mb-3">
        <button
          pButton
          type="submit"
          label="{{ 'cancel' | translate }}"
          class="p-button-secondary p-button-outlined"
          [routerLink]="['']"></button>
        <button
          pButton
          type="button"
          label="{{ 'validate' | translate }}"
          (click)="submit()"
          [disabled]="form.invalid"
          class="p-button p-button-outlined"></button>
      </div>
    </ng-container>
  </div>
</form>
